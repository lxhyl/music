(function(t){function e(e){for(var s,a,c=e[0],l=e[1],r=e[2],p=0,d=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,r||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,c=1;c<n.length;c++){var l=n[c];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},i={app:0},o=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),i=n.n(s);i.a},1:function(t,e){},"14ae":function(t,e,n){"use strict";var s=n("d91c"),i=n.n(s);i.a},2:function(t,e){},3:function(t,e){},"30a3":function(t,e,n){"use strict";var s=n("d6b5"),i=n.n(s);i.a},4:function(t,e){},5444:function(t,e,n){},"56bc":function(t,e,n){t.exports=n.p+"img/musicLogo.fb0c0778.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("3b2b"),n("a481"),n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],a={name:"app",components:{},mounted:function(){}},c=a,l=(n("034f"),n("2877")),r=Object(l["a"])(c,i,o,!1,null,null,null),u=r.exports,p=n("bc3a"),d=n.n(p),g=n("8c4f"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-main",[s("img",{staticClass:"logo",attrs:{src:n("56bc")}}),s("h4",{staticStyle:{color:"#409EFF"}},[t._v("登陆")]),s("el-form",{attrs:{"label-width":"80px",model:t.login}},[s("el-form-item",{attrs:{label:"手机号"}},[s("el-input",{attrs:{placeholder:"输入手机号"},model:{value:t.login.phone,callback:function(e){t.$set(t.login,"phone",e)},expression:"login.phone"}})],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{"show-password":"",placeholder:"输入密码"},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),s("el-button",{staticStyle:{color:"#FAFAFA"},attrs:{type:"primary",plain:""},on:{click:t.ok}},[t._v("确定")])],1)],1)],1)},h=[],m=(n("28a5"),{name:"login",data:function(){return{login:{phone:"",password:""}}},beforeCreate:function(){var t=JSON.parse(localStorage.getItem("id"));this.$store.commit("getUserId",t)},methods:{ok:function(){var t=this;/^1[3456789]\d{9}$/.test(this.login.phone)?""==this.login.password?this.$message({message:"密码不能为空",type:"warning"}):this.$axios.get("http://120.27.243.36:3000/login/cellphone?phone="+this.login.phone+"&password="+this.login.password).then((function(e){t.$store.commit("getUserId",e.data.account.id);var n=e.data.account.id;localStorage.setItem("id",JSON.stringify(n)),t.$message({message:"登陆成功",type:"success"}),t.$router.push("home")})).catch((function(e){console.log(e.message);var n=e.message,s=n.split(" ");console.log(s),"509"==s[5]&&t.$message({message:"密码错误次数超过限制",type:"warning"}),"502"==s[5]&&t.$message({message:"密码错误",type:"warning"}),"501"==s[5]&&t.$message({message:"账号不存在",type:"warning"})})):this.$message({message:"手机号格式错误",type:"warning"})}}}),v=m,y=(n("14ae"),Object(l["a"])(v,f,h,!1,null,"28ec3e4b",null)),_=y.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.getDateFinish?n("div",{staticClass:"userDetail"},[n("el-header",{staticStyle:{height:"200px"}},[n("el-avatar",{attrs:{size:"large",src:t.userDetail.profile.avatarUrl}}),n("div",{staticClass:"userDetailInfo"},[n("p",[t._v(t._s(t.userDetail.profile.nickname))]),n("p",[t._v(t._s(t.userDetail.profile.signature))]),n("p",{staticStyle:{color:"#BDBDBD"}},[t._v("\n          等级:"+t._s(t.userDetail.level)+"\n               \n          累计听歌"+t._s(t.userDetail.listenSongs)+"首\n        ")])])],1),n("el-main",[n("div",{staticClass:"container"},[n("p",{staticStyle:{width:"100%"}},[t._v("我的歌单")]),t._l(t.playList,(function(e,s){return n("el-card",{key:s},[n("div",{on:{click:function(n){return t.goSongList(e.id)}}},[n("span",{staticStyle:{position:"absolute",top:"10px",left:"10px"}},[t._v(t._s(s+1))]),n("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.coverImgUrl,fit:"fit"}}),n("div",[n("p",{staticStyle:{"font-size":"12px",margin:"0"}},[t._v(t._s(e.name))]),n("span",{staticStyle:{"font-size":"12px",color:"#BDBDBD",position:"absolute",right:"5px",bottom:"5px"}},[t._v("累计播放"+t._s(e.playCount)+"次")])])],1)])}))],2)])],1):n("div",{staticStyle:{top:"200px"}},[n("i",{staticClass:"el-icon-loading"}),n("p",[t._v("加载中")])])])},b=[],S={name:"home",data:function(){return{id:this.$store.state.userId,getDateFinish:!1,userDetail:{},playList:[]}},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("id"));this.$axios.get("http://120.27.243.36:3000/user/detail?uid="+e).then((function(e){t.userDetail=e.data,t.getDateFinish=!0})).catch((function(t){console.log(t)})),this.$axios.get("http://120.27.243.36:3000/user/playlist?uid="+e).then((function(e){t.playList=t.playList.concat(e.data.playlist)})).catch((function(t){console.log(t)}))},methods:{goSongList:function(t){this.$store.commit("getSongListId",t),this.$router.push("songList")}}},$=S,I=(n("30a3"),Object(l["a"])($,x,b,!1,null,"2f3210ae",null)),C=I.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.getDataFinish?n("div",[n("el-header",[n("i",{staticClass:"el-icon-back",staticStyle:{position:"absolute",left:"20px"},on:{click:t.goToHome}})]),n("el-main",[n("div",{staticClass:"container"},t._l(t.list,(function(e,s){return n("el-card",{key:s},[n("div",{on:{click:function(n){return t.getMusic(e.id)}}},[n("el-avatar",{attrs:{src:e.al.picUrl}}),n("p",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.name))]),n("p",t._l(e.ar,(function(e,s){return n("span",{key:s},[t._v("\n                  "+t._s(e.name)+"   \n              ")])})),0)],1)])})),1)])],1):n("div",{staticStyle:{top:"200px"}},[n("i",{staticClass:"el-icon-loading"}),n("p",[t._v("加载中")])])])},k=[],D={name:"songList",data:function(){return{getDataFinish:!1,songListId:"",list:[]}},mounted:function(){var t=this;this.songListId=this.$store.state.songListId;var e=this.songListId;this.$axios.get("http://120.27.243.36:3000/playlist/detail?id="+e).then((function(e){t.list=t.list.concat(e.data.playlist.tracks),t.getDataFinish=!0})).catch((function(t){console.log(t)}))},methods:{getMusic:function(t){this.$store.commit("getSongId",t),this.$router.push("play")},goToHome:function(){this.$router.push("home")}}},E=D,F=(n("ec88"),Object(l["a"])(E,w,k,!1,null,null,null)),M=F.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.getDataFinish?n("div",[n("el-header",[n("p",{staticStyle:{margin:"10px","font-size":"14px"}},[n("i",{staticClass:"el-icon-back",staticStyle:{position:"absolute",left:"20px"},on:{click:t.goToSongList}}),t._v("\n        "+t._s(t.songInfo[0].name)+"\n      ")])]),n("div",[n("img",{attrs:{src:t.songInfo[0].al.picUrl}}),n("div",{staticClass:"musicWords"}),n("div",[n("p",{staticStyle:{width:"100%"}},[t.loading?n("i",{staticClass:"el-icon-loading"}):n("el-progress",{attrs:{"text-inside":!0,"stroke-width":26,percentage:t.percent}})],1),n("p",[n("span",{staticClass:"el-icon-caret-left icon"}),t.pauseMusic?n("span",{staticClass:"el-icon-video-pause icon",on:{click:t.stopMusic}}):n("span",{staticClass:"el-icon-video-play icon",on:{click:t.playPause}}),n("span",{staticClass:"el-icon-caret-right icon"}),n("span",{staticClass:"el-icon-chat-line-round icon",on:{click:t.goComment}})]),n("el-divider",[n("i",{staticClass:"el-icon-mobile-phone"})]),t._m(0)],1),t.getMusicUrlFinish?n("p",[n("audio",{ref:"audio",attrs:{id:"music",controls:"controls",autoplay:"",src:t.songUrl[0].url}})]):t._e()])],1):n("div",[n("i",{staticClass:"el-icon-loading"}),n("p",[t._v("加载中")])])])},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{color:"#9E9E9E"}},[t._v("\n          建设中。。。\n          "),n("p",[t._v("1:进度条问题：播放暂停改变进度条")]),n("p",[t._v("2:播放列表组件")])])}],U=(n("1c46"),{components:{},data:function(){return{getDataFinish:!1,songId:"",songInfo:[],songUrl:[],getMusicUrlFinish:!1,pauseMusic:!0,percent:0,loading:!0}},created:function(){var t=this;this.songId=this.$store.state.songId,this.$axios.get("http://120.27.243.36:3000/song/detail?ids="+this.songId).then((function(e){t.songInfo=t.songInfo.concat(e.data.songs),t.getDataFinish=!0})).catch((function(t){console.log(t)})),this.$axios.get("http://120.27.243.36:3000/song/url?id="+this.songId).then((function(e){t.songUrl=t.songUrl.concat(e.data.data),t.getMusicUrlFinish=!0})).catch((function(t){console.log(t)}))},mounted:function(){var t=this;setTimeout((function(){t.getAudio()}),2e3)},methods:{goToSongList:function(){this.$router.push("songList")},playPause:function(){var t=document.getElementById("music");t.play(),this.pauseMusic=!0},stopMusic:function(){var t=document.getElementById("music");t.pause(),this.pauseMusic=!1,console.log(this.timer())},getAudio:function(){var t=this,e=setInterval((function(){var n=document.getElementById("music"),s=n.duration,i=n.readyState,o=s/100*1e3;if(4==i){t.loading=!1,clearInterval(e);var a=setInterval((function(){t.percent+=1,100==t.percent&&(clearInterval(a),a=null)}),o);e=null}}),1e3)},goComment:function(){this.$router.push("comment")}}}),j=U,z=(n("5cba"),Object(l["a"])(j,L,O,!1,null,"5867bf49",null)),T=z.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-header",[n("p",{staticStyle:{margin:"10px","font-size":"14px","line-height":"40px"}},[n("i",{staticClass:"el-icon-back",staticStyle:{position:"absolute",left:"20px"},on:{click:t.goToPlay}}),t._v("\n      评论\n    ")])]),n("div",{staticClass:"commentContainer"},[n("p",{staticStyle:{"font-size":"13px",color:"#409EFF"}},[t._v("热门评论")]),t._l(t.hotComments,(function(e,s){return n("div",{key:s,staticClass:"comment"},[n("el-avatar",{staticStyle:{left:"0"},attrs:{src:e.user.avatarUrl}}),n("p",{staticStyle:{"font-size":"12px",color:"#9E9E9E"}},[t._v(t._s(e.user.nickname))]),n("p",{staticStyle:{"font-size":"12px",margin:"2px 5px"}},[t._v(t._s(e.content))]),n("p",{staticStyle:{"font-size":"10px"}},[t._v("评论时间:"+t._s(t._f("toTime")(e.time)))]),n("span",[t._v("点赞数"+t._s(e.likedCount))])],1)}))],2),n("div",{staticClass:"commentContainerRight"},[n("p",{staticStyle:{"font-size":"13px",color:"#409EFF"}},[t._v("最新评论")]),t._l(t.comments,(function(e,s){return n("div",{key:s,staticClass:"comment"},[n("el-avatar",{staticStyle:{left:"0"},attrs:{src:e.user.avatarUrl}}),n("p",{staticStyle:{"font-size":"12px",color:"#9E9E9E"}},[t._v(t._s(e.user.nickname))]),n("p",{staticStyle:{"font-size":"12px",margin:"2px 5px"}},[t._v(t._s(e.content))]),n("p",{staticStyle:{"font-size":"10px"}},[t._v("评论时间:"+t._s(t._f("toTime")(e.time)))]),n("span",[t._v("点赞数"+t._s(e.likedCount))])],1)}))],2)],1)},B=[],A={data:function(){return{hotComments:[],comments:[]}},created:function(){var t=this,e=this.$store.state.songId;this.$axios.get("http://120.27.243.36:3000/comment/music?id="+e).then((function(e){t.hotComments=t.hotComments.concat(e.data.hotComments),t.comments=t.comments.concat(e.data.comments),console.log(t.hotComments)})).catch((function(t){console.log(t)}))},methods:{goToPlay:function(){this.$router.push("play")}}},J=A,R=(n("f6df"),Object(l["a"])(J,P,B,!1,null,"f1dcb712",null)),H=R.exports;s["default"].use(g["a"]);var N=new g["a"]({mode:"hash",routes:[{path:"/",name:"login",component:_},{path:"/home",name:"home",component:C},{path:"/songList",name:"songList",component:M},{path:"/play",name:"play",component:T},{path:"/comment",name:"comment",component:H}]}),q=n("2f62"),W={userId:"",songListId:"",songId:""},Y=W,G=n("63e0"),K=n.n(G),Q={getUserId:function(t,e){t.userId=e},getSongListId:function(t,e){t.songListId=e},getSongId:function(t,e){t.songId=e}};s["default"].use(q["a"]);var V=new q["a"].Store({state:Y,actions:K.a,mutations:Q}),X=n("5c96"),Z=n.n(X);n("0fae");s["default"].prototype.$axios=d.a,s["default"].use(g["a"]),s["default"].use(Z.a),s["default"].config.productionTip=!1,new s["default"]({router:N,store:V,render:function(t){return t(u)}}).$mount("#app"),s["default"].filter("toTime",(function(t){return Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,this.getFullYear()+"")),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},new Date(t).Format("yy-MM-dd hh:mm:ss")}))},"5cba":function(t,e,n){"use strict";var s=n("e033"),i=n.n(s);i.a},"63e0":function(t,e){},"64a9":function(t,e,n){},7101:function(t,e,n){},d6b5:function(t,e,n){},d91c:function(t,e,n){},e033:function(t,e,n){},ec88:function(t,e,n){"use strict";var s=n("7101"),i=n.n(s);i.a},f6df:function(t,e,n){"use strict";var s=n("5444"),i=n.n(s);i.a}});
//# sourceMappingURL=app.f78d7519.js.map